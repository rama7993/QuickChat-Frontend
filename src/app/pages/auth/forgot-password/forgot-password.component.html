<div class="forgot-password auth-page">
  <header class="forgot-password__header auth-header">
    <div class="forgot-password__logo auth-logo">
      <div class="auth-logo__icon">
        <i class="pi pi-comments"></i>
      </div>
      <h1 class="forgot-password__title auth-title">
        Quick<span class="auth-title__accent">Chat</span>
      </h1>
    </div>
    <p class="forgot-password__tagline auth-tagline">Reset your password</p>
  </header>

  <section class="forgot-password__box auth-card">
    <div class="forgot-password__box-header auth-card-header">
      <h2 class="forgot-password__heading auth-heading">Forgot Password</h2>
      <p class="forgot-password__subtext auth-subtext" *ngIf="!emailSent">
        Enter your email address and we'll send you a link to reset your
        password.
      </p>
      <p class="forgot-password__subtext auth-subtext" *ngIf="emailSent">
        Check your email for the password reset link. The link will expire in 1
        hour.
      </p>
    </div>

    <form
      *ngIf="!emailSent"
      [formGroup]="forgotPasswordForm"
      (ngSubmit)="onSubmit()"
      class="forgot-password__form auth-form"
    >
      <div class="forgot-password__form-group auth-form-group">
        <label for="email" class="forgot-password__label auth-label">
          Email <span class="auth-label--required">*</span>
        </label>
        <input
          type="email"
          id="email"
          class="forgot-password__input auth-input"
          formControlName="email"
          [ngClass]="{ 'ng-invalid ng-touched': isInvalid('email') }"
          placeholder="Enter your email"
        />
        <div
          class="forgot-password__error auth-error"
          *ngIf="email.touched && email.invalid"
        >
          <small *ngIf="email.errors?.['required']">Email is required</small>
          <small *ngIf="email.errors?.['email']">Invalid email address</small>
        </div>
      </div>

      <div class="forgot-password__actions auth-actions">
        <button
          type="submit"
          class="forgot-password__button auth-button"
          [disabled]="isSubmitting || forgotPasswordForm.invalid"
        >
          <i
            [class]="isSubmitting ? 'pi pi-spin pi-spinner' : 'pi pi-send'"
          ></i>
          {{ isSubmitting ? "Sending..." : "Send Reset Link" }}
        </button>
      </div>
    </form>

    <div class="forgot-password__back auth-link">
      <a [routerLink]="['/login']">
        <i class="pi pi-arrow-left"></i> Back to Login
      </a>
    </div>
  </section>
</div>
