// Mixins
// All global mixins and functions

@use "sass:map";
@use "variables" as *;

// Media query mixin
@mixin respond-to($breakpoint) {
  @if map.has-key($breakpoints, $breakpoint) {
    @media (min-width: map.get($breakpoints, $breakpoint)) {
      @content;
    }
  } @else {
    @warn "Unfortunately, no value could be retrieved from `#{$breakpoint}`. "
        + "Available breakpoints are: #{map.keys($breakpoints)}.";
  }
}

// Theme colors mixin
@mixin theme-colors {
  color: var(--color-text);
  background-color: var(--color-background);
}

// Theme surface mixin
@mixin theme-surface {
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-medium);
}

// Theme card mixin
@mixin theme-card {
  @include theme-surface;
  box-shadow: var(--shadow-small);
  transition: all var(--transition-normal);

  &:hover {
    box-shadow: var(--shadow-medium);
    transform: translateY(-2px);
  }
}

// Input mixin
@mixin theme-input {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-medium);
  padding: var(--spacing-sm) var(--spacing-md);
  color: var(--color-text);
  font-size: var(--font-size-base);
  transition: all var(--transition-fast);

  &:focus {
    outline: none;
    border-color: var(--color-accent);
    box-shadow: 0 0 0 3px rgba(0, 217, 255, 0.1);
  }

  &::placeholder {
    color: var(--color-text-secondary);
  }
}

// Avatar mixin
@mixin theme-avatar($size: "medium") {
  border-radius: 50%;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-secondary);
  color: var(--color-text);
  font-weight: var(--font-weight-semibold);

  @if $size == "small" {
    width: 2rem;
    height: 2rem;
    font-size: var(--font-size-sm);
  }

  @if $size == "medium" {
    width: 2.5rem;
    height: 2.5rem;
    font-size: var(--font-size-base);
  }

  @if $size == "large" {
    width: 3rem;
    height: 3rem;
    font-size: var(--font-size-lg);
  }

  @if $size == "xl" {
    width: 4rem;
    height: 4rem;
    font-size: var(--font-size-xl);
  }

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
}

// Scrollbar mixin
@mixin theme-scrollbar {
  &::-webkit-scrollbar {
    width: 6px;
  }

  &::-webkit-scrollbar-track {
    background: var(--color-surface);
  }

  &::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 3px;

    &:hover {
      background: var(--color-accent);
    }
  }
}

// Glass effect mixin
@mixin theme-glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

// Animation mixin
@mixin theme-animation($name, $duration: var(--transition-normal)) {
  animation: $name $duration ease-in-out;
}

// Flexbox mixins
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

@mixin flex-column {
  display: flex;
  flex-direction: column;
}

// Truncate text mixin
@mixin truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

// Visually hidden mixin
@mixin visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}
